<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Cine MaxCinema</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="icon" href="favicon/film-reel.ico" type="image/ico">
    <link rel="stylesheet" href="css/my_styles.css">
    <!-- fuentes de letras: -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,700;0,900;1,700&family=Poppins:ital,wght@0,300;1,300&display=swap" rel="stylesheet">
    <script src="scripts_js/val_reserva.js"></script>
</head>
<body class="grid-container noaside">
    <header class="header">
        <div class="logo">
            <img src="img/film-reel.png" alt="MaxCinema Logo" width="70" height="70">
            <h1 class="h1">MaxCinema</h1>
        </div>
        <nav>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="cartelera.html">Cartelera</a></li>
                <li><a href="reserva.html">Reserva</a></li>
                <li><a href="contacto.html">Contacto</a></li>
            </ul>
        </nav>
        <img src="img/usuario.png" alt="usuario" width="50" height="50">
    </header>
    
    <article class="article art_form_reserva centrado">
        <h3 class="centrado_horizonal">Reserve su entrada</h3>
        <form class="form_reserva" name="form_reserva">
            <fieldset>
                <legend>cine</legend>
                <input class="radio_sel_cine" type="radio" name="cine" value="Villa Crespo" checked><label for="crespo">Villa Crespo</label><br>
                <input class="radio_sel_cine" type="radio" name="cine" value="Once"><label for="once">Once (Balvanera)</label><br>
                <input class="radio_sel_cine" type="radio" name="cine" value="Barrio Norte"><label for="barrio_norte">Barrio Norte</label>
            </fieldset>
            <fieldset  class="fieldset_pelicula">
                <legend>película</legend>
                <h5>Película:</h5>
                <select name="pelicula" id="nombre_pelicula" class="list_pelicula">
                    <option value="Batman: el caballero de la noche">Batman: el caballero de la noche</option>
                    <option value="El Exorcista del Papa">El Exorcista del Papa</option>
                    <option value="Fast X">Fast X</option>
                    <option value="Guardianes de la Galaxia Vol. 3">Guardianes de la Galaxia Vol. 3</option>
                    <option value="It">It</option>
                    <option value="John Wick 4">John Wick 4</option>
                    <option value="La Extorsion">La Extorsión</option>
                    <option value="Los Caballeros del Zodiaco">Los Caballeros del Zodíaco</option>
                    <option value="El Hombre Araña">El Hombre Araña</option>
                    <option value="Super Mario Bros.">Super Mario Bros.</option>
                    <option value="Casablanca">Casablanca</option>
                    <option value="La Naranja Mecánica">La Naranja Mecánica</option>
                    <option value="El Padrino">El Padrino</option>
                    <option value="Star Wars Episodio V - El Imperio contraataca">Star Wars Episodio V - El Imperio contraataca</option>
                    <option value="Volver al Futuro">Volver al Futuro</option>
                </select>           
                <h5>Dia:</h5>
                <input name="fecha" type="date" id="dia_pelicula">
                <h5 class="hora_pelicula">Hora:</h5>
                <select name="hora" type="number" id="hora_sel_pelicula">
                    <option value="10">10:00hs</option>
                    <option value="15">15:00hs</option>
                    <option value="18">18:00hs</option>
                    <option value="20">20:00hs</option>
                    <option value="23">23:00hs</option>
                </select>            
                <h5>Entradas:</h5>
                <input name="entradas" type="number" id="cantidad_entradas" value="1" min="1" max="10" onchange="changeCantEntradas()">
                <label class="total_pelicula" id="total_pelicula">Total: $1500</label>
            </fieldset>    
            <fieldset class="fieldset_factura">
                <legend>datos personales</legend>
                <!-- <h5>Número de tarjeta:</h5>
                <h5>Vencimiento (mm/aa)</h5>
                <h5>CVC</h5>
                <input id="numero_tarjeta_credito" type="tel" inputmode="numeric" pattern="[0-9\s]{13,19}" autocomplete="cc-number" maxlength="19" placeholder="xxxx xxxx xxxx xxxx" required="true">
                <input id="vto_tarjeta_credito" type="tel" inputmode="numeric" pattern="[0-9/\s]{5}" autocomplete="cc-number" maxlength="5" placeholder="xx/xx" required="true">
                <input id="cvc_tarjeta_credito" type="tel" inputmode="numeric" pattern="[0-9\s]{3}" autocomplete="cc-number" maxlength="3" placeholder="xxx" required="true"> -->
                <h5 class="ocupar_todo_el_ancho">Ingrese su nombre:</h5>
                <input class="ocupar_todo_el_ancho" type="text" name="nombre" pattern="[A-Za-z\s]+" value="" required="true">
                <h5 class="ocupar_todo_el_ancho">Ingrese su email:</h5>
                <input class="ocupar_todo_el_ancho" type="email" name="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" value="" required="true">
            </fieldset>  
            <div class="centrado_horizonal"><input type="submit" value=" Reservar "></div>  
        </form>        
    </article>

    <footer class="footer">
        <ul>
            <li><a href="https://web.whatsapp.com/" target="_blank"><img src="img/redes_sociales/whatsapp-logo-24.png" alt="whatsapp"></a></li>
            <li><a href="https://facebook.com/" target="_blank"><img src="img/redes_sociales/facebook-logo-24.png" alt="facebook"></a></li>
            <li><a href="https://instagram.com/" target="_blank"><img src="img/redes_sociales/instagram-logo-24.png" alt="instagram"></a></li>
            <li><a href="https://twitter.com/" target="_blank"><img src="img/redes_sociales/twitter-logo-24.png" alt="twitter"></a></li>
        </ul>
        <h4>CopyRight©2023 para codo a codo</h4>
    </footer>
    <script>
        actualDate();
    </script>
    <script>
        const form = document.querySelector(".form_reserva");
        form.addEventListener("submit", function(e) {
            e.preventDefault();

            const formData = new FormData(form);
            const data = Object.fromEntries(formData);
            //console.log(data);
            fetch('https://agustinrodriguez.pythonanywhere.com/reservas', {
                method: 'POST',
                mode: 'cors',
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify(data)
            })
            .then((response) => {
                if (response.status === 200) {
                    alert("Su reserva fue procesada. Gracias! vuelva pronto.");
                }
            })
            .catch(error => console.log(error));
        });
    </script>
</body>
</html>